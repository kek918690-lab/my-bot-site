<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0b0b0b; color: white; margin: 0; padding-bottom: 80px; overflow-x: hidden; }
        .page { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .card { background: #1c1c1c; border-radius: 15px; padding: 15px; margin-bottom: 12px; display: flex; justify-content: space-between; align-items: center; border: 1px solid #333; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .stat-card { background: #252525; padding: 15px; border-radius: 12px; border-top: 3px solid #3498db; }
        
        .btn { background: #27ae60; color: white; border: none; padding: 10px 15px; border-radius: 10px; font-weight: bold; transition: 0.2s; }
        .btn:active { transform: scale(0.95); opacity: 0.8; }
        .btn-blue { background: #3498db; }
        .navbar { position: fixed; bottom: 0; left: 0; right: 0; background: #161616; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #333; }
        .nav-item { color: #555; font-size: 12px; text-align: center; flex: 1; cursor: pointer; }
        .nav-item.active-nav { color: #3498db; font-weight: bold; }
        small { color: #aaa; font-size: 11px; }
    </style>
</head>
<body>

    <div id="page1" class="page active">
        <h2 style="color: #3498db;">üë• –†—ã–Ω–æ–∫ –Ω–∞–π–º–∞</h2>
        <div style="text-align: left; color: #888; font-size: 12px; margin-bottom: 10px;">–î–û–°–¢–£–ü–ù–´–ï –ë–û–¢–´:</div>
        
        <div class="card">
            <div style="text-align: left;"><b>ü§ñ –ë–æ—Ç-–†–∞–±–æ—Ç—è–≥–∞</b><br><small>üß± +2 –∫–∏—Ä–ø–∏—á–∞/—Å–µ–∫</small></div>
            <button class="btn" onclick="buyBot(50, 2, '–†–∞–±–æ—Ç—è–≥–∞')">50üí∞</button>
        </div>

        <div class="card">
            <div style="text-align: left;"><b>üë∑ –ë–æ—Ç-–ü—Ä–æ—Ä–∞–±</b><br><small>üß± +10 –∫–∏—Ä–ø–∏—á–µ–π/—Å–µ–∫</small></div>
            <button class="btn" onclick="buyBot(200, 10, '–ü—Ä–æ—Ä–∞–±')">200üí∞</button>
        </div>

        <div style="text-align: left; color: #e74c3c; font-size: 12px; margin: 25px 0 10px;">–õ–ò–î–ï–†–´ –ò–ì–†–´:</div>
        <div id="player-list">
            <div class="card">
                <div style="text-align: left;"><b>üë§ Danil (–í–ª–∞–¥–µ–ª–µ—Ü)</b><br><small>üè∞ –£—Ä–æ–≤–µ–Ω—å: 99</small></div>
                <button class="btn btn-blue" onclick="tg.showAlert('–í—ã –ø–æ—Ö–≤–∞–ª–∏–ª–∏ –∏–≥—Ä–æ–∫–∞!')">‚≠ê</button>
            </div>
        </div>
    </div>

    <div id="page2" class="page">
        <h2 style="color: #27ae60;">üè∞ –¢–≤–æ—è –ò–º–ø–µ—Ä–∏—è</h2>
        <div class="stats-grid">
            <div class="stat-card">üí∞ –ú–æ–Ω–µ—Ç—ã<br><b id="money-display">100</b></div>
            <div class="stat-card">üß± –ö–∏—Ä–ø–∏—á–∏<br><b id="bricks-display">0</b></div>
        </div>
        <div style="margin-top: 30px; color: #888;">
            <p>–î–æ–±—ã—á–∞: <span id="pps-display" style="color: #3498db; font-weight: bold;">0</span> –∫–∏—Ä–ø–∏—á–µ–π/—Å–µ–∫</p>
            <button class="btn btn-blue" style="width: 100%; padding: 20px;" onclick="manualClick()">üî® –î–û–ë–´–¢–¨ –í–†–£–ß–ù–£–Æ</button>
        </div>
    </div>

    <div class="navbar">
        <div id="nav1" class="nav-item active-nav" onclick="showP(1)">üë•<br>–ù–∞–π–º</div>
        <div id="nav2" class="nav-item" onclick="showP(2)">üè∞<br>–ì–ª–∞–≤–Ω–∞—è</div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();

        // –ò–ì–†–û–í–´–ï –ü–ï–†–ï–ú–ï–ù–ù–´–ï
        let money = 100;
        let bricks = 0;
        let pps = 0; // Production Per Second (–¥–æ–±—ã—á–∞ –≤ —Å–µ–∫—É–Ω–¥—É)

        function showP(n) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById('page' + n).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active-nav'));
            document.getElementById('nav' + n).classList.add('active-nav');
        }

        function updateUI() {
            document.getElementById('money-display').innerText = Math.floor(money);
            document.getElementById('bricks-display').innerText = bricks;
            document.getElementById('pps-display').innerText = pps;
        }

        function buyBot(cost, power, name) {
            if (money >= cost) {
                money -= cost;
                pps += power;
                updateUI();
                tg.showScanQrPopup({text: "–ë–æ—Ç " + name + " –Ω–∞–Ω—è—Ç!"}); // –ü—Ä–æ—Å—Ç–æ –∫—Ä–∞—Å–∏–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç
                setTimeout(() => tg.closeScanQrPopup(), 1000);
            } else {
                tg.showAlert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–æ–Ω–µ—Ç! –ù—É–∂–Ω–æ –µ—â–µ " + (cost - money) + "üí∞");
            }
        }

        function manualClick() {
            bricks += 1;
            money += 0.5; // –ó–∞ –∫–∞–∂–¥—ã–π –∫–∏—Ä–ø–∏—á –Ω–µ–º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥
            updateUI();
        }

        // –ì–õ–ê–í–ù–´–ô –ò–ì–†–û–í–û–ô –¶–ò–ö–õ (–ö–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É)
        setInterval(() => {
            if (pps > 0) {
                bricks += pps;
                money += (pps * 0.2); // –ë–æ—Ç—ã –ø—Ä–∏–Ω–æ—Å—è—Ç –ø–∞—Å—Å–∏–≤–Ω—ã–π –¥–æ—Ö–æ–¥
                updateUI();
            }
        }, 1000);

    </script>
</body>
</html>
